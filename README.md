# WiiU_3DS_ScreenShotUploadWebPage
WiiU及び3DSでWebブラウザ経由で画像ファイル等を保存するための最小限度のWebページです。
使用するには別途PHP5.3以降が動作するhttpサーバが必要です。

## 使い方
1. PHP5.3以降が動作するウェブサーバを用意します。PHP5.3以降さえ動作するならdockerでもncでもお好みで。Androidでも使えるhttpサーバあるらしいけど未テスト。
2. ドキュメントルートかその配下のお好みのディレクトリに"wiiu3dsuploader.php"を置きます。
3. 自動で保存先ディレクトリを作らせる場合、"wiiu3dsuploader.php"を置いたディレクトリの書き込み権限を許可しておきます。
   保存先ルートディレクトリ(デフォルトでは"wiiu3dsuploader.php"を置いたディレクトリ/picture")を先に作っておき、そちらに書き込み権限を付与してもOKです。
4. WiiUや3DSでアクセスし、ファイルをアップロードします。

## 仕様
以下のうち、一部は設定で変更が可能です。
WiiU及び3DSのみをターゲットにしているため、初期設定ではMIMEタイプが"image/jpeg"又は"video/x-matroska"以外のものはアップロードを受け付けない仕様です。
ファイルは、日付日時_ランダムバイトコード_元ファイル名の名前にリネームされて保存されます。
保存先ディレクトリが無かった場合、勝手に読み書き実行全ての権限を付与された状態で作成しようとします。既にある場合でも勝手に読み書き実行全ての権限を付与しようとします。
JPEGファイルがアップロードされた場合、解像度の情報から元となったハードウェア(WiiU又は3DS)とその取得元(TVかゲームパッドか、
上画面か下画面かカメラでとった写真かゲームメモか)を判定し、自動的に分類を試み、分類に応じて別の場所に保存します。
判定できない場合(Webブラウザでダウンロードした画像や別途SDカードに入れた画像等をアップロードしようとした場合とか)は判別不能の場合用のフォルダに入れられます。
